<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="Secure photo upload portal for Bill Layne Insurance Agency customers">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Photo Upload Portal | Bill Layne Insurance Agency</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary-blue: #2563eb;
            --primary-blue-dark: #1e40af;
            --success-green: #10b981;
            --success-green-dark: #059669;
            --bg-gradient: linear-gradient(to bottom right, #eff6ff, #ffffff, #eff6ff);
            --slate-50: #f8fafc;
            --slate-100: #f1f5f9;
            --slate-200: #e2e8f0;
            --slate-300: #cbd5e1;
            --slate-600: #475569;
            --slate-700: #334155;
            --slate-800: #1e293b;
            --slate-900: #0f172a;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: var(--bg-gradient);
            color: var(--slate-800);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        /* Header */
        .header {
            background: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border-bottom: 4px solid var(--primary-blue);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo {
            height: 50px;
            width: auto;
        }

        .header-text {
            border-left: 2px solid var(--slate-300);
            padding-left: 1rem;
        }

        .header-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--slate-900);
            margin-bottom: 0.25rem;
        }

        .header-subtitle {
            font-size: 0.875rem;
            color: var(--slate-600);
        }

        .header-contact {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 600;
            font-size: 1rem;
            transition: color 0.2s;
        }

        .header-contact:hover {
            color: var(--primary-blue-dark);
        }

        /* Container */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
            min-height: calc(100vh - 350px);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(to right, var(--primary-blue), #1e40af);
            color: white;
            padding: 3rem 2.5rem;
            border-radius: 1.5rem 1.5rem 0 0;
            text-align: center;
        }

        .hero-icon {
            background: rgba(255, 255, 255, 0.2);
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            backdrop-filter: blur(10px);
            font-size: 48px;
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .hero-subtitle {
            font-size: 1.125rem;
            color: rgba(255, 255, 255, 0.9);
            max-width: 600px;
            margin: 0 auto;
        }

        .main-content {
            background: white;
            padding: 2.5rem;
            border-radius: 0 0 1.5rem 1.5rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        }

        /* Action Buttons */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .action-btn {
            padding: 1.5rem 1rem;
            border: 2px solid var(--slate-300);
            background: white;
            border-radius: 1rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            color: var(--slate-700);
            min-height: 100px;
            justify-content: center;
        }

        .action-btn-icon {
            font-size: 36px;
        }

        .action-btn.active {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3);
        }

        .action-btn:active {
            transform: scale(0.97);
        }

        /* Upload Section */
        .upload-section {
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            border: 2px solid #f59e0b;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .upload-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .upload-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #92400e;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .photo-counter {
            background: var(--primary-blue);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 1.125rem;
            font-weight: 700;
            min-width: 60px;
            text-align: center;
        }

        /* Category Tags */
        .category-section {
            background: white;
            padding: 1.25rem;
            border-radius: 0.75rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .category-title {
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--slate-700);
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
        }

        .category-tag {
            padding: 0.875rem;
            background: var(--slate-50);
            border: 2px solid transparent;
            border-radius: 0.75rem;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--slate-700);
            text-align: center;
        }

        .category-tag.active {
            background: var(--primary-blue);
            color: white;
            border-color: var(--primary-blue);
            box-shadow: 0 4px 8px rgba(37, 99, 235, 0.3);
        }

        /* Upload Box */
        .upload-box {
            background: white;
            border: 3px dashed var(--primary-blue);
            border-radius: 1rem;
            padding: 2.5rem 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.25s ease;
            margin-bottom: 1.5rem;
        }

        .upload-box:hover {
            background: #eff6ff;
            border-color: var(--primary-blue-dark);
            transform: translateY(-2px);
        }

        .upload-icon {
            font-size: 64px;
            margin-bottom: 1rem;
        }

        .upload-box-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--slate-900);
            margin-bottom: 0.5rem;
        }

        .upload-box-subtitle {
            font-size: 0.875rem;
            color: var(--slate-600);
        }

        .upload-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .upload-btn {
            padding: 1rem 1.5rem;
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
            color: white;
            border: none;
            border-radius: 0.75rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s ease;
            box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
        }

        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(37, 99, 235, 0.4);
        }

        .upload-btn:active {
            transform: scale(0.97);
        }

        .upload-btn-icon {
            font-size: 32px;
        }

        /* Image Preview */
        .image-preview {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .preview-item {
            position: relative;
            aspect-ratio: 1;
            border-radius: 1rem;
            overflow: hidden;
            background: var(--slate-100);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            animation: fadeInUp 0.4s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .preview-item .category-label {
            position: absolute;
            bottom: 6px;
            left: 6px;
            right: 6px;
            background: rgba(37, 99, 235, 0.95);
            color: white;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 0.375rem 0.5rem;
            border-radius: 0.5rem;
            text-align: center;
            backdrop-filter: blur(4px);
        }

        .preview-item .remove-btn {
            position: absolute;
            top: 6px;
            right: 6px;
            background: rgba(239, 68, 68, 0.95);
            color: white;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
        }

        .preview-item .remove-btn:hover {
            background: #dc2626;
            transform: scale(1.1);
        }

        /* Form Elements */
        .form-section {
            background: white;
            border: 2px solid var(--slate-200);
            border-radius: 1rem;
            overflow: hidden;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .form-header {
            background: linear-gradient(135deg, var(--slate-50) 0%, var(--slate-100) 100%);
            padding: 1.25rem 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.2s ease;
        }

        .form-header:hover {
            background: var(--slate-100);
        }

        .form-header.active {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            color: var(--primary-blue);
        }

        .form-header-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 600;
            font-size: 1rem;
        }

        .form-icon {
            font-size: 24px;
        }

        .form-arrow {
            transition: transform 0.3s ease;
            font-size: 16px;
            font-weight: 700;
            color: var(--slate-600);
        }

        .form-section.expanded .form-arrow {
            transform: rotate(180deg);
        }

        .form-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, padding 0.4s ease;
        }

        .form-section.expanded .form-content {
            padding: 1.5rem;
            max-height: 1000px;
        }

        .form-group {
            margin-bottom: 1.25rem;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: var(--slate-700);
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }

        .required {
            color: #dc2626;
        }

        .optional-tag {
            font-size: 0.75rem;
            color: var(--slate-500);
            font-weight: 400;
            margin-left: 0.5rem;
        }

        .form-input {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid var(--slate-300);
            border-radius: 0.75rem;
            font-size: 1rem;
            transition: all 0.2s;
            font-family: inherit;
            color: var(--slate-900);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        textarea.form-input {
            resize: vertical;
            min-height: 100px;
        }

        /* Tips Box */
        .tips-box {
            background: linear-gradient(to right, #f0fdf4, #dcfce7);
            border-left: 4px solid var(--success-green);
            padding: 1.25rem;
            border-radius: 0 0.75rem 0.75rem 0;
            margin: 1.5rem 0;
        }

        .tips-header {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .tips-icon {
            font-size: 24px;
            color: var(--success-green);
        }

        .tips-title {
            font-weight: 700;
            color: #166534;
            margin-bottom: 0.75rem;
            font-size: 1rem;
        }

        .tips-list {
            color: #15803d;
            font-size: 0.875rem;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .tips-list li {
            margin: 0.5rem 0;
        }

        /* Trust Row */
        .trust-row {
            display: flex;
            justify-content: center;
            gap: 2rem;
            padding: 1.5rem;
            background: var(--slate-50);
            border-radius: 1rem;
            margin-top: 2rem;
        }

        .trust-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            text-align: center;
        }

        .trust-icon {
            font-size: 28px;
        }

        .trust-text {
            font-weight: 600;
            font-size: 0.875rem;
            color: var(--slate-700);
        }

        /* Submit Section */
        .submit-section {
            position: sticky;
            bottom: 0;
            background: white;
            padding: 1.5rem 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 -10px 25px rgba(0, 0, 0, 0.1);
            border-top: 4px solid var(--primary-blue);
            margin-top: 2rem;
            z-index: 100;
        }

        .submit-btn {
            width: 100%;
            padding: 1.125rem 2rem;
            background: linear-gradient(to right, var(--success-green), var(--success-green-dark));
            color: white;
            border: none;
            border-radius: 0.75rem;
            font-weight: 700;
            font-size: 1.125rem;
            cursor: pointer;
            transition: all 0.25s ease;
            box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.3);
        }

        .submit-btn:hover:not(:disabled) {
            transform: scale(1.02);
            box-shadow: 0 20px 25px -5px rgba(16, 185, 129, 0.3);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Progress Bar */
        .upload-progress {
            margin-top: 1rem;
            background: var(--slate-100);
            border-radius: 2rem;
            height: 12px;
            overflow: hidden;
            display: none;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .upload-progress.active {
            display: block;
        }

        .upload-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue) 0%, var(--primary-blue-dark) 50%, var(--success-green) 100%);
            border-radius: 2rem;
            width: 0%;
            transition: width 0.5s ease;
            background-size: 200% 100%;
            animation: shimmer 2s linear infinite;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .upload-status {
            font-size: 0.875rem;
            color: var(--slate-600);
            margin-top: 0.75rem;
            text-align: center;
            display: none;
            font-weight: 500;
        }

        .upload-status.active {
            display: block;
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.75);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(4px);
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: white;
            border-radius: 1.5rem;
            padding: 2.5rem 2rem;
            max-width: 440px;
            width: 92%;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0,0,0,0.25);
            animation: slideUp 0.4s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-spinner {
            width: 72px;
            height: 72px;
            margin: 0 auto 1.5rem;
        }

        .spinner {
            display: none;
            width: 72px;
            height: 72px;
            border: 5px solid rgba(37,99,235,0.2);
            border-top-color: var(--primary-blue);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .modal-content h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 1rem;
        }

        .modal-content p {
            font-size: 1rem;
            color: var(--slate-700);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .modal-progress {
            background: var(--slate-100);
            border-radius: 2rem;
            height: 12px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
        }

        .modal-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
            border-radius: 2rem;
            width: 0%;
            transition: width 0.5s ease;
        }

        .modal-status {
            margin-top: 1rem;
            font-size: 0.875rem;
            color: var(--slate-600);
            font-weight: 500;
        }

        .retry-info {
            display: none;
            margin-top: 1rem;
            padding: 0.875rem;
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid #f59e0b;
            color: #92400e;
            border-radius: 0.75rem;
            font-size: 0.875rem;
            font-weight: 600;
        }

        /* Success Modal */
        .success-icon {
            width: 90px;
            height: 90px;
            margin: 0 auto 1.5rem;
            background: linear-gradient(135deg, var(--success-green) 0%, var(--success-green-dark) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
            animation: scaleIn 0.5s ease-out;
        }

        @keyframes scaleIn {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }

        .success-icon-check {
            font-size: 48px;
            color: white;
        }

        .ref-number-box {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 1rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
        }

        .ref-label {
            font-size: 0.875rem;
            opacity: 0.9;
            margin-bottom: 0.5rem;
        }

        .ref-number {
            font-size: 1.75rem;
            font-weight: 700;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }

        .ref-hint {
            font-size: 0.75rem;
            opacity: 0.85;
        }

        .confirmation-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .confirm-btn {
            padding: 0.875rem 1rem;
            border: none;
            border-radius: 0.75rem;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .confirm-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .email-btn {
            background: var(--primary-blue);
            color: white;
        }

        .sms-btn {
            background: var(--success-green);
            color: white;
        }

        .done-btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
            color: white;
            border: none;
            border-radius: 0.75rem;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 8px rgba(37, 99, 235, 0.3);
        }

        .done-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(37, 99, 235, 0.4);
        }

        /* Footer */
        .footer {
            background: var(--slate-900);
            color: white;
            padding: 2rem 1.5rem;
            margin-top: 3rem;
            text-align: center;
        }

        .footer-logo {
            height: 45px;
            width: auto;
            margin: 0 auto 1rem;
            filter: brightness(0) invert(1);
            opacity: 0.9;
        }

        .footer-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .footer-address {
            font-size: 0.875rem;
            color: var(--slate-400);
            margin-bottom: 0.75rem;
        }

        .footer-contact {
            color: white;
            text-decoration: none;
            font-size: 0.875rem;
            transition: color 0.2s;
            margin: 0 0.5rem;
        }

        .footer-contact:hover {
            color: #60a5fa;
        }

        .footer-website {
            color: #60a5fa;
            text-decoration: none;
            font-size: 0.875rem;
            display: block;
            margin-top: 0.5rem;
        }

        .footer-security {
            font-size: 0.75rem;
            color: var(--slate-500);
            padding-top: 1rem;
            border-top: 1px solid var(--slate-700);
            margin-top: 1rem;
        }

        /* Hidden */
        .file-input {
            display: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-text {
                display: none;
            }

            .logo {
                height: 40px;
            }

            .hero {
                padding: 2rem 1.5rem;
            }

            .hero-title {
                font-size: 1.875rem;
            }

            .main-content {
                padding: 1.5rem;
            }

            .action-buttons {
                grid-template-columns: 1fr;
            }

            .upload-buttons {
                grid-template-columns: 1fr;
            }

            .image-preview {
                grid-template-columns: repeat(2, 1fr);
            }

            .category-grid {
                grid-template-columns: 1fr;
            }

            .trust-row {
                flex-direction: column;
                gap: 1rem;
            }

            .confirmation-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <img src="https://i.imgur.com/cBAgeX8.png" alt="Bill Layne Insurance Agency" class="logo">
                <div class="header-text">
                    <div class="header-title">Photo Upload Portal</div>
                    <div class="header-subtitle">üîí Secure Document Submission</div>
                </div>
            </div>
            <a href="tel:336-835-1993" class="header-contact">
                <span>üìû</span>
                <span>336-835-1993</span>
            </a>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <div class="hero-icon">üì∏</div>
            <h1 class="hero-title">MyInsurancePhoto.com</h1>
            <p class="hero-subtitle">Quick & Secure Photo Upload for Bill Layne Insurance</p>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Selection Buttons -->
            <div class="action-buttons">
                <button type="button" class="action-btn active" data-selection="home">
                    <span class="action-btn-icon">üè†</span>
                    <span>Home</span>
                </button>
                <button type="button" class="action-btn" data-selection="vehicle">
                    <span class="action-btn-icon">üöó</span>
                    <span>Vehicle</span>
                </button>
                <button type="button" class="action-btn" data-selection="forms">
                    <span class="action-btn-icon">üìÑ</span>
                    <span>Forms</span>
                </button>
                <button type="button" class="action-btn" data-selection="claim">
                    <span class="action-btn-icon">üö®</span>
                    <span>Claim</span>
                </button>
            </div>

            <!-- Upload Section -->
            <div class="upload-section">
                <div class="upload-header">
                    <div class="upload-title">
                        <span>üì∏</span>
                        <span>Upload Photos</span>
                    </div>
                    <span class="photo-counter" id="photoCounter">0</span>
                </div>

                <!-- Category Tags -->
                <div class="category-section">
                    <div class="category-title">Tag your photos (optional):</div>
                    <div class="category-grid">
                        <button type="button" class="category-tag" data-category="front">Front View</button>
                        <button type="button" class="category-tag" data-category="side">Side View</button>
                        <button type="button" class="category-tag" data-category="damage">Damage Area</button>
                        <button type="button" class="category-tag" data-category="document">Document</button>
                    </div>
                </div>

                <!-- Photo Tips -->
                <div class="tips-box" id="photoTips">
                    <div class="tips-header">
                        <span class="tips-icon">üí°</span>
                        <div>
                            <div class="tips-title">üè† How to Photograph Your Property:</div>
                            <ul class="tips-list">
                                <li><strong>Front of house</strong> - Stand back to capture entire front</li>
                                <li><strong>Back of house</strong> - Include deck/patio if present</li>
                                <li><strong>All sides</strong> - Show full side from corner to corner</li>
                                <li><strong>Roof angle</strong> - Best visible angle showing condition</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Upload Box -->
                <div class="upload-box" id="uploadArea">
                    <div class="upload-icon">üì∑</div>
                    <div class="upload-box-title">Tap to Add Photos</div>
                    <div class="upload-box-subtitle">or drag and drop files here</div>

                    <input type="file" id="fileInput" class="file-input" accept="image/*,application/pdf" multiple>
                    <input type="file" id="cameraInput" class="file-input" accept="image/*" capture="environment">

                    <div class="upload-buttons">
                        <button type="button" class="upload-btn" id="cameraBtn">
                            <span class="upload-btn-icon">üì∑</span>
                            <span>Camera</span>
                        </button>
                        <button type="button" class="upload-btn" id="galleryBtn">
                            <span class="upload-btn-icon">üñºÔ∏è</span>
                            <span>Gallery</span>
                        </button>
                    </div>
                </div>

                <!-- Image Preview -->
                <div class="image-preview" id="imagePreview"></div>

                <!-- Upload Progress -->
                <div class="upload-progress" id="uploadProgress">
                    <div class="upload-progress-bar" id="uploadProgressBar"></div>
                </div>
                <div class="upload-status" id="uploadStatusText">Preparing upload...</div>
            </div>

            <!-- Form Sections -->
            <form id="imageForm">
                <!-- Contact Info -->
                <div class="form-section expanded">
                    <div class="form-header">
                        <div class="form-header-left">
                            <span class="form-icon">üë§</span>
                            <span>Contact Information</span>
                            <span class="required">*</span>
                        </div>
                        <span class="form-arrow">‚ñº</span>
                    </div>
                    <div class="form-content">
                        <div class="form-group">
                            <label class="form-label">
                                Full Name <span class="required">*</span>
                            </label>
                            <input type="text" name="customerName" id="customerName" class="form-input" required placeholder="John Smith">
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                Phone <span class="required">*</span>
                            </label>
                            <input type="tel" name="phone" id="phone" class="form-input" required placeholder="(336) 555-1234">
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                Email <span class="optional-tag">(optional)</span>
                            </label>
                            <input type="email" name="email" id="email" class="form-input" placeholder="your@email.com">
                        </div>
                    </div>
                </div>

                <!-- Property/Vehicle Details -->
                <div class="form-section">
                    <div class="form-header">
                        <div class="form-header-left">
                            <span class="form-icon">üìç</span>
                            <span id="detailsTitle">Property Details</span>
                            <span class="optional-tag">(optional)</span>
                        </div>
                        <span class="form-arrow">‚ñº</span>
                    </div>
                    <div class="form-content">
                        <div id="propertyFields">
                            <div class="form-group">
                                <label class="form-label">Address</label>
                                <input type="text" name="address" id="address" class="form-input" placeholder="123 Main Street">
                            </div>
                            <div class="form-group">
                                <label class="form-label">City</label>
                                <input type="text" name="city" id="city" class="form-input" placeholder="Mooresville">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ZIP</label>
                                <input type="text" name="zip" id="zip" class="form-input" maxlength="5" placeholder="28117">
                            </div>
                        </div>
                        <div id="vehicleFields" style="display: none;">
                            <div class="form-group">
                                <label class="form-label">Vehicle Info</label>
                                <input type="text" name="vehicleInfo" id="vehicleInfo" class="form-input" placeholder="2023 Toyota Camry or VIN">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Notes <span class="optional-tag">(optional)</span></label>
                            <textarea name="notes" id="notes" class="form-input" placeholder="Any additional information..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Trust Row -->
                <div class="trust-row">
                    <div class="trust-item">
                        <span class="trust-icon">üîí</span>
                        <span class="trust-text">Encrypted</span>
                    </div>
                    <div class="trust-item">
                        <span class="trust-icon">‚ö°</span>
                        <span class="trust-text">Fast Upload</span>
                    </div>
                    <div class="trust-item">
                        <span class="trust-icon">‚úì</span>
                        <span class="trust-text">Direct to Agent</span>
                    </div>
                </div>

                <!-- Submit Section -->
                <div class="submit-section">
                    <button type="submit" class="submit-btn" id="submitBtn">
                        <span id="btnText">Submit Photos to Agency</span>
                        <div class="spinner" id="spinner"></div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <img src="https://i.imgur.com/cBAgeX8.png" alt="Bill Layne Insurance Agency" class="footer-logo">
        <div class="footer-title">Bill Layne Insurance Agency</div>
        <div class="footer-address">1283 N Bridge St, Elkin NC 28621</div>
        <a href="tel:336-835-1993" class="footer-contact">üìû 336-835-1993</a>
        <a href="mailto:Save@BillLayneInsurance.com" class="footer-contact">‚úâÔ∏è Save@BillLayneInsurance.com</a>
        <a href="https://www.BillLayneInsurance.com" class="footer-website">www.BillLayneInsurance.com</a>
        <div class="footer-security">üîí Your photos are securely transmitted and stored</div>
    </footer>

    <!-- Upload Progress Modal -->
    <div class="modal-overlay" id="uploadProgressModal">
        <div class="modal-content">
            <div class="modal-spinner">
                <div class="spinner"></div>
            </div>
            <h2>Uploading Your Photos</h2>
            <p>Please wait while we securely upload your images...</p>
            <div class="modal-progress">
                <div class="modal-progress-fill" id="modalProgressBar"></div>
            </div>
            <p class="modal-status">
                <span id="modalUploadStatus">Preparing upload...</span>
            </p>
            <div class="retry-info" id="retryInfo">
                Network issue detected. Retrying...
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal-overlay" id="successModal">
        <div class="modal-content">
            <div class="success-icon">
                <span class="success-icon-check">‚úì</span>
            </div>
            <h2 style="color: #166534;">Success! Submission Received</h2>
            <p>Thank you! We've received your photos and information. Our team will review them promptly.</p>
            <div class="ref-number-box">
                <div class="ref-label">Your Reference Number</div>
                <div class="ref-number" id="confirmNumber">BLI-240101-0000</div>
                <div class="ref-hint">Please save this for your records</div>
            </div>
            <div class="confirmation-options">
                <button class="confirm-btn email-btn" onclick="sendEmailConfirmation()">
                    üìß Email Receipt
                </button>
                <button class="confirm-btn sms-btn" onclick="sendSMSConfirmation()">
                    üì± Text Receipt
                </button>
            </div>
            <button class="done-btn" onclick="closeSuccessModal()">Done</button>
        </div>
    </div>

    <script>
        // Configuration - YOUR ACTUAL SCRIPT URL
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzgRcVZgCDznG5bBTLpAxun6enA4OP4k6HQhYHYeyq4nkFNKxBkFg3QVQr5n9p9olAlag/exec';
        const MAX_FILE_SIZE = 20 * 1024 * 1024;
        const MAX_RETRIES = 3;
        const COMPRESSION_QUALITY = 0.85;
        const MAX_IMAGE_WIDTH = 1600;

        const ALLOWED_TYPES = {
            'image/jpeg': ['.jpg', '.jpeg'],
            'image/png': ['.png'],
            'image/webp': ['.webp'],
            'application/pdf': ['.pdf']
        };

        // State
        let selectedOption = 'home';
        let uploadedImages = [];
        let selectedCategory = null;
        let networkStatus = 'online';

        // Photo tips
        const photoTips = {
            'home': {
                icon: 'üè†',
                title: 'How to Photograph Your Property:',
                tips: [
                    '<strong>Front of house</strong> - Stand back to capture entire front',
                    '<strong>Back of house</strong> - Include deck/patio if present',
                    '<strong>All sides</strong> - Show full side from corner to corner',
                    '<strong>Roof angle</strong> - Best visible angle showing condition'
                ]
            },
            'vehicle': {
                icon: 'üöó',
                title: 'How to Photograph Your Vehicle:',
                tips: [
                    '<strong>Front view</strong> - Stand directly in front, include license plate',
                    '<strong>Back view</strong> - Stand directly behind, include license plate',
                    '<strong>Both sides</strong> - Full side view from front to back',
                    '<strong>VIN number</strong> - Dashboard or driver door frame'
                ]
            },
            'forms': {
                icon: 'üìÑ',
                title: 'Document Photo Tips:',
                tips: [
                    'Place document on flat surface',
                    'Ensure good lighting (no shadows)',
                    'Capture entire document in frame',
                    'Make sure text is readable'
                ]
            },
            'claim': {
                icon: 'üö®',
                title: 'How to Document Damage/Claims:',
                tips: [
                    '<strong>Overall damage view</strong> - Wide shots showing full extent',
                    '<strong>Each damaged area</strong> - Individual close-up photos',
                    '<strong>Multiple angles</strong> - Same damage from different perspectives',
                    '<strong>Exchange forms</strong> - Clear photo of all insurance documents'
                ]
            }
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            updatePhotoTips();
            setupDragAndDrop();
        });

        function setupEventListeners() {
            document.querySelectorAll('.action-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.action-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    selectedOption = this.dataset.selection;
                    updateUI();
                    updatePhotoTips();
                });
            });

            document.querySelectorAll('.category-tag').forEach(tag => {
                tag.addEventListener('click', function() {
                    document.querySelectorAll('.category-tag').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    selectedCategory = this.dataset.category;
                });
            });

            document.querySelectorAll('.form-header').forEach(header => {
                header.addEventListener('click', function() {
                    const section = this.parentElement;
                    section.classList.toggle('expanded');
                    this.classList.toggle('active');
                });
            });

            document.getElementById('uploadArea').addEventListener('click', function(e) {
                if (!e.target.closest('.upload-btn')) {
                    document.getElementById('fileInput').click();
                }
            });

            document.getElementById('cameraBtn').addEventListener('click', function(e) {
                e.stopPropagation();
                document.getElementById('cameraInput').click();
            });

            document.getElementById('galleryBtn').addEventListener('click', function(e) {
                e.stopPropagation();
                document.getElementById('fileInput').click();
            });

            document.getElementById('fileInput').addEventListener('change', handleFileSelect);
            document.getElementById('cameraInput').addEventListener('change', handleFileSelect);
            document.getElementById('imageForm').addEventListener('submit', handleSubmit);
            document.getElementById('phone').addEventListener('input', formatPhone);
            document.getElementById('zip').addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/\D/g, '').slice(0, 5);
            });
        }

        function setupDragAndDrop() {
            const uploadArea = document.getElementById('uploadArea');
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.style.background = '#dbeafe';
            });
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.style.background = 'white';
            });
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.style.background = 'white';
                handleFiles(Array.from(e.dataTransfer.files));
            });
        }

        function updateUI() {
            const propFields = document.getElementById('propertyFields');
            const vehFields = document.getElementById('vehicleFields');
            const detailsTitle = document.getElementById('detailsTitle');

            if (selectedOption === 'home' || selectedOption === 'forms') {
                propFields.style.display = 'block';
                vehFields.style.display = 'none';
                detailsTitle.textContent = 'Property Details';
            } else {
                propFields.style.display = 'none';
                vehFields.style.display = 'block';
                detailsTitle.textContent = 'Vehicle Details';
            }
        }

        function updatePhotoTips() {
            const tipsEl = document.getElementById('photoTips');
            const tips = photoTips[selectedOption];

            if (tips) {
                tipsEl.innerHTML = `
                    <div class="tips-header">
                        <span class="tips-icon">üí°</span>
                        <div>
                            <div class="tips-title">${tips.icon} ${tips.title}</div>
                            <ul class="tips-list">
                                ${tips.tips.map(tip => `<li>${tip}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;
            }
        }

        function formatPhone() {
            const input = document.getElementById('phone');
            let value = input.value.replace(/\D/g, '');

            if (value.length > 0) {
                if (value.length <= 3) {
                    value = `(${value}`;
                } else if (value.length <= 6) {
                    value = `(${value.slice(0, 3)}) ${value.slice(3)}`;
                } else {
                    value = `(${value.slice(0, 3)}) ${value.slice(3, 6)}-${value.slice(6, 10)}`;
                }
            }

            input.value = value;
        }

        function validateFile(file) {
            if (!ALLOWED_TYPES[file.type]) {
                return { valid: false, error: `File type ${file.type} not allowed` };
            }

            const extension = '.' + file.name.split('.').pop().toLowerCase();
            if (!ALLOWED_TYPES[file.type].includes(extension)) {
                return { valid: false, error: 'File extension mismatch' };
            }

            const fileName = file.name.toLowerCase();
            if (fileName.includes('..') || fileName.match(/\.(exe|scr|bat|cmd|com|pif|msi|jar|app)/)) {
                return { valid: false, error: 'Suspicious filename detected' };
            }

            if (file.size > MAX_FILE_SIZE) {
                return { valid: false, error: `File exceeds ${MAX_FILE_SIZE / 1024 / 1024}MB limit` };
            }

            return { valid: true };
        }

        async function compressImage(file) {
            if (file.type === 'application/pdf') {
                return file;
            }

            return new Promise((resolve, reject) => {
                const reader = new FileReader();

                reader.onload = (e) => {
                    const img = new Image();

                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        let width = img.width;
                        let height = img.height;

                        if (width > MAX_IMAGE_WIDTH) {
                            height = (MAX_IMAGE_WIDTH / width) * height;
                            width = MAX_IMAGE_WIDTH;
                        }

                        canvas.width = width;
                        canvas.height = height;

                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(img, 0, 0, width, height);

                        canvas.toBlob(
                            (blob) => {
                                const compressedFile = new File([blob], file.name, {
                                    type: 'image/jpeg',
                                    lastModified: Date.now()
                                });
                                resolve(compressedFile);
                            },
                            'image/jpeg',
                            COMPRESSION_QUALITY
                        );
                    };

                    img.onerror = reject;
                    img.src = e.target.result;
                };

                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }

        async function handleFileSelect(e) {
            const files = Array.from(e.target.files);
            await handleFiles(files);
            e.target.value = '';
        }

        async function handleFiles(files) {
            const progressBar = document.getElementById('uploadProgress');
            const progressBarEl = document.getElementById('uploadProgressBar');
            const statusText = document.getElementById('uploadStatusText');

            progressBar.classList.add('active');
            statusText.classList.add('active');

            for (let i = 0; i < files.length; i++) {
                const file = files[i];

                const progress = ((i + 1) / files.length) * 100;
                progressBarEl.style.width = `${progress}%`;
                statusText.textContent = `Processing file ${i + 1} of ${files.length}...`;

                const validation = validateFile(file);
                if (!validation.valid) {
                    alert(validation.error);
                    continue;
                }

                try {
                    const processedFile = file.type.startsWith('image/')
                        ? await compressImage(file)
                        : file;

                    const base64 = await fileToBase64(processedFile);

                    uploadedImages.push({
                        data: base64,
                        type: processedFile.type,
                        name: processedFile.name,
                        size: processedFile.size,
                        category: selectedCategory,
                        originalSize: file.size,
                        compressed: file.size !== processedFile.size
                    });

                } catch (error) {
                    console.error('Error processing file:', error);
                    alert(`Failed to process ${file.name}`);
                }
            }

            displayImages();

            setTimeout(() => {
                progressBar.classList.remove('active');
                statusText.classList.remove('active');
                progressBarEl.style.width = '0%';
            }, 500);
        }

        function fileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = (e) => resolve(e.target.result);
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }

        function displayImages() {
            const preview = document.getElementById('imagePreview');
            preview.innerHTML = '';

            uploadedImages.forEach((img, index) => {
                const item = document.createElement('div');
                item.className = 'preview-item';

                if (img.type === 'application/pdf') {
                    item.innerHTML = `
                        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; background: var(--slate-100); padding: 8px;">
                            <span style="font-size: 32px;">üìÑ</span>
                            <span style="font-size: 10px; word-break: break-all; margin-top: 6px; text-align: center;">${img.name}</span>
                        </div>
                        ${img.category ? `<div class="category-label">${img.category}</div>` : ''}
                        <button type="button" class="remove-btn" onclick="removeImage(${index})">√ó</button>
                    `;
                } else {
                    item.innerHTML = `
                        <img src="${img.data}" alt="Photo ${index + 1}">
                        ${img.category ? `<div class="category-label">${img.category}</div>` : ''}
                        <button type="button" class="remove-btn" onclick="removeImage(${index})">√ó</button>
                    `;
                }
                preview.appendChild(item);
            });

            document.getElementById('photoCounter').textContent = uploadedImages.length;
        }

        function removeImage(index) {
            uploadedImages.splice(index, 1);
            displayImages();
        }

        async function handleSubmit(e) {
            e.preventDefault();

            if (uploadedImages.length === 0) {
                alert('Please upload at least one photo');
                return;
            }

            const submitBtn = document.getElementById('submitBtn');
            const btnText = document.getElementById('btnText');
            const spinner = document.getElementById('spinner');

            submitBtn.disabled = true;
            btnText.style.display = 'none';
            spinner.style.display = 'block';

            const uploadModal = document.getElementById('uploadProgressModal');
            uploadModal.style.display = 'flex';

            const referenceNumber = generateReferenceNumber();

            const formData = new FormData(e.target);
            const data = {
                type: getSelectedType(),
                purpose: getSelectedPurpose(),
                selection: selectedOption,
                customerName: formData.get('customerName'),
                phone: formData.get('phone'),
                email: formData.get('email'),
                address: formData.get('address'),
                city: formData.get('city'),
                zip: formData.get('zip'),
                vehicleInfo: formData.get('vehicleInfo'),
                notes: formData.get('notes'),
                images: uploadedImages,
                referenceNumber: referenceNumber,
                submittedAt: new Date().toISOString(),
                deviceInfo: {
                    userAgent: navigator.userAgent,
                    platform: navigator.platform,
                    screenResolution: `${window.screen.width}x${window.screen.height}`
                }
            };

            const result = await uploadWithRetry(data);

            if (result.success) {
                document.getElementById('confirmNumber').textContent = referenceNumber;
                window.submissionData = data;
                uploadModal.style.display = 'none';
                document.getElementById('successModal').style.display = 'flex';
            } else {
                uploadModal.style.display = 'none';
                alert('Upload failed after multiple attempts. Please try again or call 336-835-1993');
            }

            submitBtn.disabled = false;
            btnText.style.display = 'inline';
            spinner.style.display = 'none';
        }

        async function uploadWithRetry(data, retryCount = 0) {
            const maxRetries = MAX_RETRIES;

            try {
                updateUploadStatus(`Uploading... ${retryCount > 0 ? `(Retry ${retryCount}/${maxRetries})` : ''}`);

                const totalSize = uploadedImages.reduce((sum, img) => sum + img.size, 0);
                await showUploadProgress(totalSize);

                const response = await fetch(SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });

                updateUploadStatus('Upload complete!');
                document.getElementById('modalProgressBar').style.width = '100%';

                await new Promise(resolve => setTimeout(resolve, 1000));
                return { success: true };

            } catch (error) {
                console.error('Upload error:', error);

                if (retryCount < maxRetries) {
                    document.getElementById('retryInfo').style.display = 'block';
                    updateUploadStatus(`Network issue detected. Retrying in 3 seconds...`);

                    await new Promise(resolve => setTimeout(resolve, 3000));
                    return uploadWithRetry(data, retryCount + 1);
                }

                return { success: false, error };
            }
        }

        async function showUploadProgress(totalSize) {
            const progressBar = document.getElementById('modalProgressBar');
            const steps = 10;

            for (let i = 1; i <= steps; i++) {
                const progress = Math.min(90, (i / steps) * 80);
                progressBar.style.width = `${progress}%`;

                if (i <= uploadedImages.length) {
                    updateUploadStatus(`Uploading photo ${i} of ${uploadedImages.length}...`);
                } else {
                    updateUploadStatus('Finalizing upload...');
                }

                await new Promise(resolve => setTimeout(resolve, 300));
            }
        }

        function updateUploadStatus(text) {
            document.getElementById('modalUploadStatus').textContent = text;
        }

        function generateReferenceNumber() {
            const date = new Date();
            const year = date.getFullYear().toString().slice(-2);
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            const day = date.getDate().toString().padStart(2, '0');
            const random = Math.floor(Math.random() * 10000).toString().padStart(4, '0');
            return `BLI-${year}${month}${day}-${random}`;
        }

        function getSelectedType() {
            return (selectedOption === 'home' || selectedOption === 'forms') ? 'HOME' : 'VEHICLE';
        }

        function getSelectedPurpose() {
            return (selectedOption === 'forms' || selectedOption === 'claim') ? selectedOption : 'property';
        }

        async function sendEmailConfirmation() {
            if (!window.submissionData || !window.submissionData.email) {
                alert('Please provide an email address in the form to receive email confirmation.');
                return;
            }
            alert(`Confirmation email will be sent to ${window.submissionData.email}`);
        }

        async function sendSMSConfirmation() {
            if (!window.submissionData || !window.submissionData.phone) {
                alert('Phone number is required for SMS confirmation.');
                return;
            }
            alert(`Confirmation SMS will be sent to ${window.submissionData.phone}`);
        }

        function closeSuccessModal() {
            document.getElementById('successModal').style.display = 'none';
            document.getElementById('imageForm').reset();
            uploadedImages = [];
            displayImages();
            selectedCategory = null;
            document.querySelectorAll('.category-tag').forEach(t => t.classList.remove('active'));
        }
    </script>
</body>
</html>
